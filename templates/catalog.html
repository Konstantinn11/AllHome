{%extends 'base.html'%}
{% load static %}
{% block content %}
    
<div class="find mt-2">
    <form action="{% url "catalog" %}">
        <div class="row">
            <div class="col-4"></div>
            <div class="col-3">
                <input class="form-control" type="text" name="service_search" placeholder="Поиск услуг">
            </div>
            <div class="col-1">
                <button class="btn btn-secondary" type="submit">Найти</button>
            </div>
            <div class="col-4"></div>
        </div>
    </form>
</div>
    
<div class="row row-cols-lg-4 row-cols-md-2">
    {% for item in items %}
    <div class="col" style="margin-top: 2em">
        <div class="card custom-card">
            <div style="height: 50%;">
                <img src="{{ MEDIA_URL }}{{ item.image.url}}" class="card-img-top">
            </div>
            <div class="card-body custom-card-body">
                <div style="height: 50%">
                    <h5 style="margin-bottom: 0.2em; margin-top: 1em">{{ item.title }}</h5>

                </div>

                 <div class="text-end" style="height: 40%">
                    {% if search %}
                    <h5 style="margin-bottom: 0.2em; margin-top: 1em">
                        Цена: {{ item.positions_prices.get.cost_product }} р.
                    </h5>
                    {% endif %}
                    {% if not search %}
                    <a class="btn custom-button-pill" href="{% url 'uslugi_cat' slug=item.slug %}">Подробнее</a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
<style>
    .custom-card-body {
        height: 50%;
        width: 100%;
        padding: 0.8em;
        margin-top: -0.1%;
        border-radius: 0em 0em 2em 2em;
        background: #D9D2D0;
    }

    .custom-card {
        height: auto;
        border-radius: 2em;
        aspect-ratio: 3/3;
        background: #3B403F;
        border-style: none;
        box-shadow: 10px 20px 25px rgba(0, 0, 0, 0.4);
    }

    .card-img-top {
        width: 100%;
        {#height: 100%;#}
        object-fit: cover;
        border-top-left-radius: 2em;
        border-top-right-radius: 2em;
    }

    .tag-img {
        width: 1.2em;
        /* заполнение ширины оболочки */
        height: 1.2em;
    }

    .custom-button-pill {
        border-radius: 1000px;
        background: #D9D2D0;
        color: #2d2413;
        font-weight: bolder;
        padding: 0.3em;
    }

    .custom-button-pill:hover {
        border-radius: 1000px;
        background: #D9D2D0;
        color: #8C8581;
        font-weight: bolder;
    }
</style>
{% endblock content %}